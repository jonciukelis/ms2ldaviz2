(this.webpackJsonpanother=this.webpackJsonpanother||[]).push([[0],{22:function(e,t,a){},69:function(e,t,a){e.exports=a(80)},74:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(30),l=a.n(r),c=(a(74),a(8)),s=a(9),i=a(11),u=a(10),m=a(12),h=(a(22),a(23),a(47)),d=a(38),f=a(29),p=a(57),b=a(37),E=a(21),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={given_link:"http://...",generated_link:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"generate_experiment_link",value:function(e){e=e.target.value;var t=encodeURIComponent(e),a=window.location.hostname+"?"+t;this.setState({given_link:e,generated_link:a})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(E.a,null,o.a.createElement(E.a.Group,{controlId:"formForLink"},o.a.createElement(E.a.Label,null,"External Link Url"),o.a.createElement(E.a.Control,{placeholder:this.state.given_link,onChange:function(t){return e.generate_experiment_link(t)}}),o.a.createElement(E.a.Text,{className:"text-muted"},"Link to json file donwload hosted externally.")),o.a.createElement(E.a.Group,{controlId:"formForGLink"},o.a.createElement(E.a.Label,null,"Link for quick access"),o.a.createElement(E.a.Control,{value:this.state.generated_link}))))}}]),t}(o.a.Component),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Developer: Domantas Jonas Sakalys"),o.a.createElement("p",null,"Original website could be found here: ",o.a.createElement("a",{href:"http://www.ms2lda.org"},"www.ms2lda.org")))}}]),t}(o.a.Component),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.loading?o.a.createElement("p",null,"Loading, this takes a couple of seconds"):o.a.createElement("div",null,o.a.createElement("p",null,"Import a JSON of an LDA file."),o.a.createElement("p",null,"Please go to the Legacy option if you have a .dict file"),o.a.createElement("input",{type:"file",accept:".json",onChange:function(t){e.props.onChange(t),e.setState({loading:!0})}})))}}]),t}(o.a.Component),y=a(14),O=a(6),w=a(50),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(O.a,{body:!0},o.a.createElement(O.a.Header,null,"Info about the Doc: "),o.a.createElement(w.a,null,o.a.createElement("pre",null,JSON.stringify(this.props.info,null,2)))),o.a.createElement("br",null),o.a.createElement(O.a,{body:!0},o.a.createElement(O.a.Header,null,"Motifs assosiated with Doc"),o.a.createElement(y.a,null,this.props.motifs.map((function(t){return o.a.createElement(y.a.Item,{key:t,action:!0,onClick:function(){return e.props.showMotif(t)}},t)})))),o.a.createElement("br",null),o.a.createElement(O.a,{body:!0},o.a.createElement(O.a.Header,null,"Features in the Doc"),o.a.createElement(y.a,null,this.props.features.map((function(e){return o.a.createElement(y.a.Item,{key:e},e)})))))}}]),t}(o.a.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(O.a,{body:!0},o.a.createElement(O.a.Header,null,"Docs assosiated with Motif"),o.a.createElement(y.a,null,this.props.docs.map((function(t){return o.a.createElement(y.a.Item,{key:t,action:!0,onClick:function(){return e.props.showDoc(t)}},t)})))),o.a.createElement("br",null),o.a.createElement(O.a,{body:!0},o.a.createElement(O.a.Header,null,"Features assosiated with Motif"),o.a.createElement(y.a,null,this.props.features.map((function(e){return o.a.createElement(y.a.Item,{key:e},e)})))))}}]),t}(o.a.Component),S=a(68),x=a(34),D=a(53),N=a.n(D),L=a(66),M=a(39),I=a(61);function _(e){var t=e.columns,a=e.data,n=e.onClick,r=Object(I.c)({columns:t,data:a,initialState:{pageIndex:0,pageSize:20}},I.b,I.a),l=r.getTableProps,c=r.getTableBodyProps,s=r.headerGroups,i=r.prepareRow,u=r.page,m=r.canPreviousPage,h=r.canNextPage,d=(r.pageOptions,r.pageCount),f=r.gotoPage,p=r.nextPage,b=r.previousPage,E=(r.setPageSize,r.state),g=E.pageIndex;E.pageSize;return o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,Object.assign({},l(),{striped:!0,bordered:!0,hover:!0,size:"sm"}),o.a.createElement("thead",null,s.map((function(e){return o.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return o.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),o.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""))})))}))),o.a.createElement("tbody",c(),u.map((function(e,t){return i(e),o.a.createElement("tr",Object.assign({},e.getRowProps(),{onClick:function(){n(e.cells[0].value)}}),e.cells.map((function(e){return o.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),o.a.createElement("div",{className:"pagination"},o.a.createElement(M.a,null,o.a.createElement(M.a.First,{onClick:function(){return f(0)},disabled:!m}),o.a.createElement(M.a.Prev,{onClick:function(){return b()},disabled:!m}),o.a.createElement("input",{value:g+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;f(t)},style:{width:"100px"}}),o.a.createElement(M.a.Next,{onClick:function(){return p()},disabled:!h}),o.a.createElement(M.a.Last,{onClick:function(){return f(d-1)},disabled:!h}))))}var H=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChangeDebounced=function(e){a.state.searchtemp===e&&a.setState({search:a.state.searchtemp})};for(var n={},o=0,r=Object.keys(e.lda.doc_metadata);o<r.length;o++){var l=r[o];n[l]=JSON.stringify(e.lda.doc_metadata[l])}var s=[];s.push({Header:"Name",accessor:"name"});for(var m=0,h=Object.keys(e.lda.doc_metadata[Object.keys(e.lda.doc_metadata)[0]]);m<h.length;m++){var d=h[m];s.push({Header:d,accessor:d})}for(var f=[],p=0,b=Object.keys(e.lda.doc_metadata);p<b.length;p++){var E=b[p];f.push(Object(S.a)({name:E},e.lda.doc_metadata[E]))}return a.state={search:"",searchtemp:"",columns:s,searchData:n,data:f},a.onChangeDebounced=N()(a.onChangeDebounced,500),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.searchtemp===t.searchtemp}},{key:"searchFilter",value:function(e){this.setState({searchtemp:e.target.value}),this.onChangeDebounced(e.target.value)}},{key:"render",value:function(){var e=this;return o.a.createElement(O.a,{body:!0,className:"mx-auto"},o.a.createElement(O.a.Header,null,o.a.createElement("h1",null,"Showing Docs"),o.a.createElement(x.a,{onChange:function(t){return e.searchFilter(t)},type:"text",placeholder:"Search",className:"mr-sm-2"})),o.a.createElement(_,{data:this.state.data,columns:this.state.columns,onClick:function(t){e.props.showDoc(t)}}))}}]),t}(o.a.Component),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChangeDebounced=function(e){a.state.searchtemp===e&&a.setState({search:a.state.searchtemp})},a.state={search:"",searchtemp:""},a.onChangeDebounced=N()(a.onChangeDebounced,500),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.searchtemp===t.searchtemp}},{key:"searchFilter",value:function(e){this.setState({searchtemp:e.target.value}),this.onChangeDebounced(e.target.value)}},{key:"render",value:function(){var e=this;return o.a.createElement(O.a,{body:!0,className:"mx-auto"},o.a.createElement(O.a.Header,null,o.a.createElement("h1",null,"Showing Motifs"),o.a.createElement(x.a,{onChange:function(t){return e.searchFilter(t)},type:"text",placeholder:"Search",className:"mr-sm-2"})),o.a.createElement(y.a,null,Object.keys(this.props.lda.beta).map((function(t,a){return t.includes(e.state.search)?o.a.createElement(y.a.Item,{action:!0,key:a,onClick:function(){return e.props.showMotif(t)}},t):null}))))}}]),t}(o.a.Component),J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{className:"vertical-center d-flex justify-content-center"},o.a.createElement("h1",null,"Import a file to get started!"))}}]),t}(o.a.Component),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={options:e.options},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(O.a,{body:!0},o.a.createElement(O.a.Header,null,"Docs View options"),o.a.createElement(y.a,null,this.state.options.motifs.map((function(e){return o.a.createElement(E.a.Check,{type:"checkbox",id:"default-checkbox",label:e[0],value:e[1]})})))),o.a.createElement("br",null),o.a.createElement(O.a,{body:!0},o.a.createElement(O.a.Header,null,"Motif View options"),o.a.createElement(y.a,null,this.state.options.motifs.map((function(e){return o.a.createElement(E.a.Check,{type:"checkbox",id:"default-checkbox",label:e[0],value:e[1]})})))),o.a.createElement("br",null),o.a.createElement(O.a,{body:!0},o.a.createElement(O.a.Header,null,"Thresholds"),o.a.createElement(y.a,null,this.state.options.thresholds.map((function(e){return o.a.createElement(y.a.Item,{key:e},e)})))))}}]),t}(o.a.Component),T=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1,modalName:"",modalBody:"",imported:!1,about:!1,import:!1,legacy:!1,showdoc:!1,showmotif:!1,showgenerate:!1,bydocs:!1,bymotifs:!1,dockey:"",motifkey:"",lda:{},features:[],motifs:[],docs:[],showOptions:!1,options:{docs:[],motifs:[],thresholds:[]}};var n=window.location.href,o=new URL(n),r=decodeURIComponent(o.searchParams.get("fetch_project"));return r&&(a.linkToState(r),console.log(r)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"CenterModal",value:function(e){return o.a.createElement(b.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(b.a.Header,{closeButton:!0},o.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},e.title)),o.a.createElement(b.a.Body,null,e.children),o.a.createElement(b.a.Footer,null,o.a.createElement(p.a,{onClick:e.onHide},"Close")))}},{key:"setModalShow",value:function(e){!1===e?this.setState({modalName:"",about:!1,import:!1,legacy:!1,showOptions:!1,modal:!1,showdoc:!1,showmotif:!1,showgenerate:!1}):this.setState({modal:!0})}},{key:"linkModal",value:function(){console.log("link1"),this.setState({modalName:o.a.createElement("h1",null,"Generate a sharable link"),modal:!0,showgenerate:!0})}},{key:"importJSON",value:function(){console.log("import1"),this.setState({modal:!0,modalName:"Import",import:!0})}},{key:"aboutModal",value:function(){console.log("about1"),this.setState({modalName:o.a.createElement("h1",null,"About"),modal:!0,about:!0})}},{key:"optionsModal",value:function(){console.log("options1"),this.setState({modalName:o.a.createElement("h1",null,"Options"),modal:!0,showOptions:!0})}},{key:"optionChange",value:function(e){this.setState({options:e})}},{key:"showDoc",value:function(e){console.log("showdoc: "+e);for(var t=[],a=[],n=0,r=Object.keys(this.state.lda.phi[e]);n<r.length;n++){var l=r[n];t.push(l)}for(var c=0,s=Object.keys(this.state.lda.phi[e]);c<s.length;c++)for(var i=s[c],u=0,m=Object.keys(this.state.lda.phi[e][i]);u<m.length;u++){var h=m[u];a.includes(h)||a.push(h)}this.setState({modal:!0,modalName:o.a.createElement("h1",null,"Docs page of ",e),showdoc:!0,showmotif:!1,features:t,motifs:a,dockey:e})}},{key:"showMotif",value:function(e){console.log("showmotif: "+e);for(var t=[],a=[],n=0,r=Object.keys(this.state.lda.beta[e]);n<r.length;n++){var l=r[n];t.push(l)}for(var c=0,s=Object.keys(this.state.lda.theta);c<s.length;c++)for(var i=s[c],u=0,m=Object.keys(this.state.lda.theta[i]);u<m.length;u++){m[u]===e&&(a.includes(i)||a.push(i))}this.setState({modal:!0,modalName:o.a.createElement("h1",null,"Motif page of ",e),showmotif:!0,showdoc:!1,features:t,motifs:[],docs:a})}},{key:"exportJSON",value:function(){console.log("export1");var e=document.createElement("A");e.href=URL.createObjectURL(new Blob([JSON.stringify(this.state.lda)])),e.download="exportedLDA.json",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},{key:"example",value:function(){this.linkToState("../example/")}},{key:"linkToState",value:function(e){var t=this;fetch(e,{mode:"no-cors"}).then((function(e){return e.text()})).then((function(e){t.setState({lda:JSON.parse(e),imported:!0,bydocs:!0,loading:!1})})).catch((function(e){return console.error(e)}))}},{key:"discardLDA",value:function(){console.log("discard"),this.setState({imported:!1,lda:""})}},{key:"fileJSON",value:function(e){var t=this,a=e.target.files[0],n=new FileReader;n.onload=function(e){t.setState({lda:JSON.parse(e.target.result),imported:!0,bydocs:!0,loading:!1}),t.setModalShow(!1)},n.readAsText(a)}},{key:"byToggle",value:function(e){this.setState({bydocs:e,bymotifs:!e})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"MS2LDAviz2"},o.a.createElement(h.a,{fixed:"top",bg:"light",expand:"lg"},o.a.createElement(h.a.Brand,{href:"#home"},"MS2LDAviz2"),o.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(f.a,{className:"mr-auto"},this.state.imported?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a.Link,{onClick:function(){return e.exportJSON()}},"Export"),o.a.createElement(d.a,{title:"Explore LDA",id:"basic-nav-dropdown"},o.a.createElement(d.a.Item,{onClick:function(){return e.byToggle(!0)}},"By Docs"),o.a.createElement(d.a.Item,{onClick:function(){return e.byToggle(!1)}},"By Mass2Motifs"),o.a.createElement(d.a.Divider,null),o.a.createElement(d.a.Item,null,"Store In-Browser")),o.a.createElement(f.a.Link,{onClick:function(){return e.discardLDA()}},"Discard"),o.a.createElement(f.a.Link,{onClick:function(){return e.optionsModal()}},"Options")):o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a.Link,{onClick:function(){return e.importJSON()}},"Import"),o.a.createElement(f.a.Link,{target:"_blank",href:"../legacy/"},"Legacy"))),o.a.createElement(f.a.Link,{onClick:function(){return e.linkModal()}},"Share"),o.a.createElement(f.a.Link,{onClick:function(){return e.example()}},"Example"),o.a.createElement(f.a.Link,{onClick:function(){return e.aboutModal()}},"About"))),this.state.imported?null:o.a.createElement(J,null),this.state.imported&&this.state.bydocs?o.a.createElement(H,{lda:this.state.lda,showDoc:function(t){return e.showDoc(t)}}):null,this.state.imported&&this.state.bymotifs?o.a.createElement(P,{lda:this.state.lda,showMotif:function(t){return e.showMotif(t)}}):null,o.a.createElement(this.CenterModal,{show:this.state.modal,onHide:function(){return e.setModalShow(!1)},title:this.state.modalName},this.state.showgenerate?o.a.createElement(g,null):null,this.state.about?o.a.createElement(v,null):null,this.state.import?o.a.createElement(k,{onChange:function(t){return e.fileJSON(t)}}):null,this.state.showOptions?o.a.createElement(F,{options:this.state.options,optionChange:function(t){return e.optionChange(t)}}):null,this.state.showdoc?o.a.createElement(j,{info:this.state.lda.doc_metadata[this.state.dockey],features:this.state.features,motifs:this.state.motifs,showMotif:function(t){return e.showMotif(t)}}):null,this.state.showmotif?o.a.createElement(C,{features:this.state.features,docs:this.state.docs,showDoc:function(t){return e.showDoc(t)}}):null))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.beed758e.chunk.js.map