(this.webpackJsonpanother=this.webpackJsonpanother||[]).push([[0],{56:function(e,t,a){e.exports=a(70)},61:function(e,t,a){},62:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(20),r=a.n(l),i=(a(61),a(49)),c=a(50),s=a(55),u=a(51),m=a(54),d=(a(62),a(63),a(34)),h=a(28),f=a(23),p=a(39),g=a(47),E=a(27),y=a(10),v=a(9),k=a(41),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={modal:!1,modalName:"",modalBody:"",imported:!1,about:!1,import:!1,legacy:!1,showdoc:!1,showmotif:!1,bydocs:!1,bymotifs:!1,dockey:"",motifkey:"",lda:{},features:[],motifs:[],docs:[],search:"",export:"#"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"CenterModal",value:function(e){return o.a.createElement(E.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(E.a.Header,{closeButton:!0},o.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter"},e.title)),o.a.createElement(E.a.Body,null,e.children),o.a.createElement(E.a.Footer,null,o.a.createElement(p.a,{onClick:e.onHide},"Close")))}},{key:"HelloTestPage",value:function(e){return o.a.createElement("div",null,o.a.createElement("p",null,"Developer: Domantas Jonas Sakalys"),o.a.createElement("p",null,"Original website could be found here: ",o.a.createElement("a",{href:"http://www.ms2lda.org"},"www.ms2lda.org")))}},{key:"ImportJSONPage",value:function(e){return o.a.createElement("div",null,o.a.createElement("p",null,"Import a JSON of an LDA file."),o.a.createElement("p",null,"Please go to the Legacy option if you have a .dict file"),o.a.createElement("input",{type:"file",accept:".json"}))}},{key:"setModalShow",value:function(e){!1===e?this.setState({modalName:"",about:!1,import:!1,legacy:!1,modal:!1,showdoc:!1}):this.setState({modal:!0})}},{key:"importJSON",value:function(){console.log("import1"),this.setState({modal:!0,modalName:"Import",import:!0})}},{key:"exportJSON",value:function(){console.log("export1");var e=document.createElement("A");e.href=URL.createObjectURL(new Blob([JSON.stringify(this.state.lda)])),e.download="exportedLDA.json",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},{key:"importLegacy",value:function(){console.log("import2")}},{key:"example",value:function(){this.linkToState("../example/")}},{key:"linkToState",value:function(e){var t=this;fetch(e,{mode:"no-cors"}).then((function(e){return e.text()})).then((function(e){console.log(e),t.setState({lda:JSON.parse(e),imported:!0,bydocs:!0,loading:!1})})).catch((function(e){return console.error(e)}))}},{key:"discardLDA",value:function(){console.log("discard"),this.setState({imported:!1,lda:""})}},{key:"aboutModal",value:function(){console.log("about1"),this.setState({modal:!0,about:!0})}},{key:"searchFilter",value:function(e){this.setState({search:e})}},{key:"showDoc",value:function(e){console.log("showdoc: "+e);for(var t=[],a=[],n=0,l=Object.keys(this.state.lda.phi[e]);n<l.length;n++){var r=l[n];t.push(r)}for(var i=0,c=Object.keys(this.state.lda.phi[e]);i<c.length;i++)for(var s=c[i],u=0,m=Object.keys(this.state.lda.phi[e][s]);u<m.length;u++){var d=m[u];a.includes(d)||a.push(d)}this.setState({modal:!0,modalName:o.a.createElement("h1",null,"Docs page of ",e),showdoc:!0,showmotif:!1,features:t,motifs:a,dockey:e})}},{key:"DocPage",value:function(e){return o.a.createElement("div",null,o.a.createElement(v.a,{body:!0},o.a.createElement(v.a.Header,null,"Info about the Doc: "),o.a.createElement(k.a,null,o.a.createElement("pre",null,JSON.stringify(e.info,null,2)))),o.a.createElement("br",null),o.a.createElement(v.a,{body:!0},o.a.createElement(v.a.Header,null,"Motifs assosiated with Doc"),o.a.createElement(y.a,null,e.motifs.map((function(t){return o.a.createElement(y.a.Item,{key:t,action:!0,onClick:function(){return e.showMotif(t)}},t)})))),o.a.createElement("br",null),o.a.createElement(v.a,{body:!0},o.a.createElement(v.a.Header,null,"Features in the Doc"),o.a.createElement(y.a,null,e.features.map((function(e){return o.a.createElement(y.a.Item,{key:e},e)})))))}},{key:"showMotif",value:function(e){console.log("showmotif: "+e);for(var t=[],a=[],n=0,l=Object.keys(this.state.lda.beta[e]);n<l.length;n++){var r=l[n];t.push(r)}for(var i=0,c=Object.keys(this.state.lda.theta);i<c.length;i++)for(var s=c[i],u=0,m=Object.keys(this.state.lda.theta[s]);u<m.length;u++){m[u]===e&&(a.includes(s)||a.push(s))}this.setState({modal:!0,modalName:o.a.createElement("h1",null,"Motif page of ",e),showmotif:!0,showdoc:!1,features:t,motifs:[],docs:a})}},{key:"MotifPage",value:function(e){return o.a.createElement("div",null,o.a.createElement(v.a,{body:!0},o.a.createElement(v.a.Header,null,"Docs assosiated with Motif"),o.a.createElement(y.a,null,e.docs.map((function(t){return o.a.createElement(y.a.Item,{key:t,action:!0,onClick:function(){return e.showDoc(t)}},t)})))),o.a.createElement("br",null),o.a.createElement(v.a,{body:!0},o.a.createElement(v.a.Header,null,"Features assosiated with Motif"),o.a.createElement(y.a,null,e.features.map((function(e){return o.a.createElement(y.a.Item,{key:e},e)})))))}},{key:"fileJSON",value:function(e){var t=this,a=e.target.files[0],n=new FileReader;n.onload=function(e){t.setState({lda:JSON.parse(e.target.result),imported:!0,bydocs:!0,loading:!1}),t.setModalShow(!1)},n.readAsText(a)}},{key:"byToggle",value:function(e){this.setState({bydocs:e,bymotifs:!e})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"MS2LDAviz2"},o.a.createElement(d.a,{fixed:"top",bg:"light",expand:"lg"},o.a.createElement(d.a.Brand,{href:"#home"},"MS2LDAviz2"),o.a.createElement(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(d.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(f.a,{className:"mr-auto"},this.state.imported?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a.Link,{onClick:function(){return e.exportJSON()}},"Export"),o.a.createElement(h.a,{title:"Explore LDA",id:"basic-nav-dropdown"},o.a.createElement(h.a.Item,{onClick:function(){return e.byToggle(!0)}},"By Docs"),o.a.createElement(h.a.Item,{onClick:function(){return e.byToggle(!1)}},"By Mass2Motifs"),o.a.createElement(h.a.Divider,null),o.a.createElement(h.a.Item,null,"Store In-Browser")),o.a.createElement(f.a.Link,{onClick:function(){return e.discardLDA()}},"Discard")):o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a.Link,{onClick:function(){return e.importJSON()}},"Import"),o.a.createElement(f.a.Link,{target:"_blank",href:"../legacy/",onClick:function(){return e.importLegacy()}},"Legacy"))),o.a.createElement(f.a.Link,{onClick:function(){return e.example()}},"Example"),o.a.createElement(f.a.Link,{onClick:function(){return e.aboutModal()}},"About"))),this.state.imported?null:o.a.createElement("header",{className:"vertical-center d-flex justify-content-center"},o.a.createElement("h1",null,"Import a file to get started!")),this.state.imported&&this.state.bydocs?o.a.createElement(v.a,{body:!0,className:"mx-auto"},o.a.createElement(v.a.Header,null,o.a.createElement("h1",null,"Showing Docs"),o.a.createElement(g.a,{onChange:function(t){return e.searchFilter(t.target.value)},type:"text",placeholder:"Search",className:"mr-sm-2"})),o.a.createElement(y.a,null,Object.keys(this.state.lda.phi).map((function(t,a){return t.includes(e.state.search)?o.a.createElement(y.a.Item,{action:!0,key:a,onClick:function(){return e.showDoc(t)}},t):null})))):null,this.state.imported&&this.state.bymotifs?o.a.createElement(v.a,{body:!0,className:"mx-auto"},o.a.createElement(v.a.Header,null,o.a.createElement("h1",null,"Showing Motifs"),o.a.createElement(g.a,{onChange:function(t){return e.searchFilter(t.target.value)},type:"text",placeholder:"Search",className:"mr-sm-2"})),o.a.createElement(y.a,null,Object.keys(this.state.lda.beta).map((function(t,a){return t.includes(e.state.search)?o.a.createElement(y.a.Item,{action:!0,key:a,onClick:function(){return e.showMotif(t)}},t):null})))):null,o.a.createElement(this.CenterModal,{show:this.state.modal,onHide:function(){return e.setModalShow(!1)},title:this.state.modalName,onChange:function(t){return e.fileJSON(t)}},this.state.about?o.a.createElement(this.HelloTestPage,null):null,this.state.import?o.a.createElement(this.ImportJSONPage,null):null,this.state.showdoc?o.a.createElement(this.DocPage,{info:this.state.lda.doc_metadata[this.state.dockey],features:this.state.features,motifs:this.state.motifs,showMotif:function(t){return e.showMotif(t)}}):null,this.state.showmotif?o.a.createElement(this.MotifPage,{features:this.state.features,docs:this.state.docs,showDoc:function(t){return e.showDoc(t)}}):null))}}]),t}(o.a.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(o.a.createElement(b,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");w?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):S(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):S(t,e)}))}}()}},[[56,1,2]]]);
//# sourceMappingURL=main.3ffb2d17.chunk.js.map